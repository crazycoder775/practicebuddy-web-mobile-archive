"use strict";
var testing_1 = require("@angular/core/testing");
var index_1 = require("../../test/index");
var index_2 = require("../index");
var providers = [
    { provide: index_2.ConsoleService, useValue: console },
    index_2.LogService
];
function main() {
    index_1.t.describe('core: LogService', function () {
        index_1.t.be(function () {
            index_2.Config.RESET();
            index_1.t.spyOn(console, 'log');
            index_1.t.spyOn(console, 'error');
            index_1.t.spyOn(console, 'warn');
            index_1.t.spyOn(console, 'info');
            testing_1.TestBed.configureTestingModule({
                providers: providers
            });
        });
        index_1.t.describe('api', function () {
            index_1.t.it('sanity', index_1.t.inject([index_2.LogService], function (log) {
                index_1.t.e(log.debug).toBeDefined();
                index_1.t.e(log.error).toBeDefined();
                index_1.t.e(log.warn).toBeDefined();
                index_1.t.e(log.info).toBeDefined();
            }));
            index_1.t.it('should not log anything by default', index_1.t.inject([index_2.LogService], function (log) {
                log.debug('debug');
                index_1.t.e(console.log).not.toHaveBeenCalledWith('debug');
                log.error('error');
                index_1.t.e(console.error).not.toHaveBeenCalledWith('error');
                log.warn('warn');
                index_1.t.e(console.warn).not.toHaveBeenCalledWith('warn');
                log.info('info');
                index_1.t.e(console.info).not.toHaveBeenCalledWith('info');
            }));
        });
        index_1.t.describe('debug levels', function () {
            index_1.t.be(function () {
                index_2.Config.RESET();
            });
            index_1.t.it('LEVEL_4: everything', index_1.t.inject([index_2.LogService], function (log) {
                index_2.Config.DEBUG.LEVEL_4 = true;
                log.debug('debug');
                index_1.t.e(console.log).toHaveBeenCalledWith('debug');
                log.error('error');
                index_1.t.e(console.error).toHaveBeenCalledWith('error');
                log.warn('warn');
                index_1.t.e(console.warn).toHaveBeenCalledWith('warn');
                log.info('info');
                index_1.t.e(console.info).toHaveBeenCalledWith('info');
            }));
            index_1.t.it('LEVEL_3: error only', index_1.t.inject([index_2.LogService], function (log) {
                index_2.Config.DEBUG.LEVEL_3 = true;
                log.debug('debug');
                index_1.t.e(console.log).not.toHaveBeenCalledWith('debug');
                log.error('error');
                index_1.t.e(console.error).toHaveBeenCalledWith('error');
                log.warn('warn');
                index_1.t.e(console.warn).not.toHaveBeenCalledWith('warn');
                log.info('info');
                index_1.t.e(console.info).not.toHaveBeenCalledWith('info');
                index_2.Config.DEBUG.LEVEL_4 = true;
                log.debug('debug w/level_4');
                index_1.t.e(console.log).toHaveBeenCalledWith('debug w/level_4');
                log.error('error w/level_4');
                index_1.t.e(console.error).toHaveBeenCalledWith('error w/level_4');
                log.warn('warn w/level_4');
                index_1.t.e(console.warn).toHaveBeenCalledWith('warn w/level_4');
                log.info('info w/level_4');
                index_1.t.e(console.info).toHaveBeenCalledWith('info w/level_4');
            }));
            index_1.t.it('LEVEL_2: warn only', index_1.t.inject([index_2.LogService], function (log) {
                index_2.Config.DEBUG.LEVEL_2 = true;
                log.debug('debug');
                index_1.t.e(console.log).not.toHaveBeenCalledWith('debug');
                log.error('error');
                index_1.t.e(console.error).not.toHaveBeenCalledWith('error');
                log.warn('warn');
                index_1.t.e(console.warn).toHaveBeenCalledWith('warn');
                log.info('info');
                index_1.t.e(console.info).not.toHaveBeenCalledWith('info');
            }));
            index_1.t.it('LEVEL_1: info only', index_1.t.inject([index_2.LogService], function (log) {
                index_2.Config.DEBUG.LEVEL_1 = true;
                log.debug('debug');
                index_1.t.e(console.log).not.toHaveBeenCalledWith('debug');
                log.error('error');
                index_1.t.e(console.error).not.toHaveBeenCalledWith('error');
                log.warn('warn');
                index_1.t.e(console.warn).not.toHaveBeenCalledWith('warn');
                log.info('info');
                index_1.t.e(console.info).toHaveBeenCalledWith('info');
            }));
        });
    });
}
exports.main = main;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nLnNlcnZpY2Uuc3BlYy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImxvZy5zZXJ2aWNlLnNwZWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLGlEQUFnRDtBQUdoRCwwQ0FBcUM7QUFHckMsa0NBQThEO0FBRTlELElBQU0sU0FBUyxHQUFlO0lBQzVCLEVBQUUsT0FBTyxFQUFFLHNCQUFjLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRTtJQUM5QyxrQkFBVTtDQUNYLENBQUM7QUFFRjtJQUNFLFNBQUMsQ0FBQyxRQUFRLENBQUMsa0JBQWtCLEVBQUU7UUFFN0IsU0FBQyxDQUFDLEVBQUUsQ0FBQztZQUVILGNBQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUVmLFNBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQ3hCLFNBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQzFCLFNBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBQ3pCLFNBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBRXpCLGlCQUFPLENBQUMsc0JBQXNCLENBQUM7Z0JBQzdCLFNBQVMsRUFBRSxTQUFTO2FBQ3JCLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsU0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUU7WUFFaEIsU0FBQyxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsU0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLGtCQUFVLENBQUMsRUFBRSxVQUFDLEdBQWU7Z0JBQ3BELFNBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUM3QixTQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztnQkFDN0Is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O2dCQUU1QixHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUNuQixTQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsb0JBQW9CLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQ25ELEdBQUcsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQ25CLFNBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDckQsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDakIsU0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUNuRCxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUNqQixTQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNqRCxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ04sQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUVMLENBQUM7QUE5R0Qsb0JBOEdDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYW5ndWxhclxuaW1wb3J0IHsgVGVzdEJlZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUvdGVzdGluZyc7XG5cbi8vIGFwcFxuaW1wb3J0IHsgdCB9IGZyb20gJy4uLy4uL3Rlc3QvaW5kZXgnO1xuXG4vLyBtb2R1bGVcbmltcG9ydCB7IENvbmZpZywgQ29uc29sZVNlcnZpY2UsIExvZ1NlcnZpY2UgfSBmcm9tICcuLi9pbmRleCc7XG5cbmNvbnN0IHByb3ZpZGVyczogQXJyYXk8YW55PiA9IFtcbiAgeyBwcm92aWRlOiBDb25zb2xlU2VydmljZSwgdXNlVmFsdWU6IGNvbnNvbGUgfSxcbiAgTG9nU2VydmljZVxuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIG1haW4oKSB7XG4gIHQuZGVzY3JpYmUoJ2NvcmU6IExvZ1NlcnZpY2UnLCAoKSA9PiB7XG5cbiAgICB0LmJlKCgpID0+IHtcbiAgICAgIC8vIGVuc3VyZSBzdGF0aWNzIGFyZSBpbiBkZWZhdWx0IHN0YXRlXG4gICAgICBDb25maWcuUkVTRVQoKTtcbiAgICAgIC8vIHNweVxuICAgICAgdC5zcHlPbihjb25zb2xlLCAnbG9nJyk7XG4gICAgICB0LnNweU9uKGNvbnNvbGUsICdlcnJvcicpO1xuICAgICAgdC5zcHlPbihjb25zb2xlLCAnd2FybicpO1xuICAgICAgdC5zcHlPbihjb25zb2xlLCAnaW5mbycpO1xuXG4gICAgICBUZXN0QmVkLmNvbmZpZ3VyZVRlc3RpbmdNb2R1bGUoe1xuICAgICAgICBwcm92aWRlcnM6IHByb3ZpZGVyc1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0LmRlc2NyaWJlKCdhcGknLCAoKSA9PiB7XG5cbiAgICAgIHQuaXQoJ3Nhbml0eScsIHQuaW5qZWN0KFtMb2dTZXJ2aWNlXSwgKGxvZzogTG9nU2VydmljZSkgPT4ge1xuICAgICAgICB0LmUobG9nLmRlYnVnKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICB0LmUobG9nLmVycm9yKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICB0LmUobG9nLndhcm4pLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgIHQuZShsb2cuaW5mbykudG9CZURlZmluZWQoKTtcbiAgICAgIH0pKTtcblxuICAgICAgdC5pdCgnc2hvdWxkIG5vdCBsb2cgYW55dGhpbmcgYnkgZGVmYXVsdCcsIHQuaW5qZWN0KFtMb2dTZXJ2aWNlXSwgKGxvZzogTG9nU2VydmljZSkgPT4ge1xuICAgICAgICBsb2cuZGVidWcoJ2RlYnVnJyk7XG4gICAgICAgIHQuZShjb25zb2xlLmxvZykubm90LnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdkZWJ1ZycpO1xuICAgICAgICBsb2cuZXJyb3IoJ2Vycm9yJyk7XG4gICAgICAgIHQuZShjb25zb2xlLmVycm9yKS5ub3QudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2Vycm9yJyk7XG4gICAgICAgIGxvZy53YXJuKCd3YXJuJyk7XG4gICAgICAgIHQuZShjb25zb2xlLndhcm4pLm5vdC50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnd2FybicpO1xuICAgICAgICBsb2cuaW5mbygnaW5mbycpO1xuICAgICAgICB0LmUoY29uc29sZS5pbmZvKS5ub3QudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2luZm8nKTtcbiAgICAgIH0pKTtcbiAgICB9KTtcblxuICAgIHQuZGVzY3JpYmUoJ2RlYnVnIGxldmVscycsICgpID0+IHtcblxuICAgICAgdC5iZSgoKSA9PiB7XG4gICAgICAgIENvbmZpZy5SRVNFVCgpO1xuICAgICAgfSk7XG5cbiAgICAgIHQuaXQoJ0xFVkVMXzQ6IGV2ZXJ5dGhpbmcnLCB0LmluamVjdChbTG9nU2VydmljZV0sIChsb2c6IExvZ1NlcnZpY2UpID0+IHtcbiAgICAgICAgQ29uZmlnLkRFQlVHLkxFVkVMXzQgPSB0cnVlO1xuXG4gICAgICAgIGxvZy5kZWJ1ZygnZGVidWcnKTtcbiAgICAgICAgdC5lKGNvbnNvbGUubG9nKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZGVidWcnKTtcbiAgICAgICAgbG9nLmVycm9yKCdlcnJvcicpO1xuICAgICAgICB0LmUoY29uc29sZS5lcnJvcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2Vycm9yJyk7XG4gICAgICAgIGxvZy53YXJuKCd3YXJuJyk7XG4gICAgICAgIHQuZShjb25zb2xlLndhcm4pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd3YXJuJyk7XG4gICAgICAgIGxvZy5pbmZvKCdpbmZvJyk7XG4gICAgICAgIHQuZShjb25zb2xlLmluZm8pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdpbmZvJyk7XG4gICAgICB9KSk7XG5cbiAgICAgIHQuaXQoJ0xFVkVMXzM6IGVycm9yIG9ubHknLCB0LmluamVjdChbTG9nU2VydmljZV0sIChsb2c6IExvZ1NlcnZpY2UpID0+IHtcbiAgICAgICAgQ29uZmlnLkRFQlVHLkxFVkVMXzMgPSB0cnVlO1xuXG4gICAgICAgIGxvZy5kZWJ1ZygnZGVidWcnKTtcbiAgICAgICAgdC5lKGNvbnNvbGUubG9nKS5ub3QudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2RlYnVnJyk7XG4gICAgICAgIGxvZy5lcnJvcignZXJyb3InKTtcbiAgICAgICAgdC5lKGNvbnNvbGUuZXJyb3IpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdlcnJvcicpO1xuICAgICAgICBsb2cud2Fybignd2FybicpO1xuICAgICAgICB0LmUoY29uc29sZS53YXJuKS5ub3QudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3dhcm4nKTtcbiAgICAgICAgbG9nLmluZm8oJ2luZm8nKTtcbiAgICAgICAgdC5lKGNvbnNvbGUuaW5mbykubm90LnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdpbmZvJyk7XG5cbiAgICAgICAgLy8gYWx3YXlzIG92ZXJyaWRlcyBsb3dlciBsZXZlbHMgYW5kIGFsbG93cyB0aGVtIHRvIGNvbWUgdGhyb3VnaFxuICAgICAgICBDb25maWcuREVCVUcuTEVWRUxfNCA9IHRydWU7XG5cbiAgICAgICAgbG9nLmRlYnVnKCdkZWJ1ZyB3L2xldmVsXzQnKTtcbiAgICAgICAgdC5lKGNvbnNvbGUubG9nKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZGVidWcgdy9sZXZlbF80Jyk7XG4gICAgICAgIGxvZy5lcnJvcignZXJyb3Igdy9sZXZlbF80Jyk7XG4gICAgICAgIHQuZShjb25zb2xlLmVycm9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZXJyb3Igdy9sZXZlbF80Jyk7XG4gICAgICAgIGxvZy53YXJuKCd3YXJuIHcvbGV2ZWxfNCcpO1xuICAgICAgICB0LmUoY29uc29sZS53YXJuKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnd2FybiB3L2xldmVsXzQnKTtcbiAgICAgICAgbG9nLmluZm8oJ2luZm8gdy9sZXZlbF80Jyk7XG4gICAgICAgIHQuZShjb25zb2xlLmluZm8pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdpbmZvIHcvbGV2ZWxfNCcpO1xuICAgICAgfSkpO1xuXG4gICAgICB0Lml0KCdMRVZFTF8yOiB3YXJuIG9ubHknLCB0LmluamVjdChbTG9nU2VydmljZV0sIChsb2c6IExvZ1NlcnZpY2UpID0+IHtcbiAgICAgICAgQ29uZmlnLkRFQlVHLkxFVkVMXzIgPSB0cnVlO1xuXG4gICAgICAgIGxvZy5kZWJ1ZygnZGVidWcnKTtcbiAgICAgICAgdC5lKGNvbnNvbGUubG9nKS5ub3QudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2RlYnVnJyk7XG4gICAgICAgIGxvZy5lcnJvcignZXJyb3InKTtcbiAgICAgICAgdC5lKGNvbnNvbGUuZXJyb3IpLm5vdC50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZXJyb3InKTtcbiAgICAgICAgbG9nLndhcm4oJ3dhcm4nKTtcbiAgICAgICAgdC5lKGNvbnNvbGUud2FybikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3dhcm4nKTtcbiAgICAgICAgbG9nLmluZm8oJ2luZm8nKTtcbiAgICAgICAgdC5lKGNvbnNvbGUuaW5mbykubm90LnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdpbmZvJyk7XG4gICAgICB9KSk7XG5cbiAgICAgIHQuaXQoJ0xFVkVMXzE6IGluZm8gb25seScsIHQuaW5qZWN0KFtMb2dTZXJ2aWNlXSwgKGxvZzogTG9nU2VydmljZSkgPT4ge1xuICAgICAgICBDb25maWcuREVCVUcuTEVWRUxfMSA9IHRydWU7XG5cbiAgICAgICAgbG9nLmRlYnVnKCdkZWJ1ZycpO1xuICAgICAgICB0LmUoY29uc29sZS5sb2cpLm5vdC50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZGVidWcnKTtcbiAgICAgICAgbG9nLmVycm9yKCdlcnJvcicpO1xuICAgICAgICB0LmUoY29uc29sZS5lcnJvcikubm90LnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdlcnJvcicpO1xuICAgICAgICBsb2cud2Fybignd2FybicpO1xuICAgICAgICB0LmUoY29uc29sZS53YXJuKS5ub3QudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3dhcm4nKTtcbiAgICAgICAgbG9nLmluZm8oJ2luZm8nKTtcbiAgICAgICAgdC5lKGNvbnNvbGUuaW5mbykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2luZm8nKTtcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfSk7XG5cbn1cbiJdfQ==